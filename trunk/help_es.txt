StatMediaWiki es un software en fase de producción que analiza instalaciones MediaWiki generando informes, estadísticas y gráficas.

StatMediaWiki está desarrollado en Python, por lo que para su ejecución se requiere disponer del intérprete de este lenguaje. También requiere el paquete python-gnuplot, que puede ser instalado con aptitude.

Para que StatMediaWiki tenga acceso a la base de datos donde se encuentra instalado el wiki, debemos crear un fichero de configuración en nuestro directorio HOME, llamado .my.cnf. El formato de este fichero debe ser:

user = usuario_con_acceso_a_la_bbdd
password = password_del_usuario
host = host_de_la_bbdd

Las opciones disponibles son las siguientes:
* --outputdir: ruta absoluta del directorio donde se almacenará el informe generado (por defecto output)
* --index: nombre del fichero que se desea que sea la portada del informe (por defecto index.php)
* --sitename: nombre del wiki que figurará en el título del informe
* --siteurl: URL del wiki
* --subdir: ruta adicional tras la URL del wiki (por defecto /index.php)
* --dbname: nombre de la base de datos que contiene el wiki
* --tableprefix: prefijo de las tablas de la base de datos, si se escogió uno durante la instalación de MediaWiki

Hay dos modos de análisis: estándar y anónimo

* Análisis estádar: las gráficas de evolución de contenido globales y por páginas pueden tener retrocesos (la línea cae) si en esa fecha la cantidad de contenido del wiki o de la página en concreto disminuyó (por ejemplo, alguien mejora y simplifica la redacción de un artículo, entonces la línea cae, hay menos bytes). Pero las gráficas de los usuarios nunca cae (lo que en un momento aportó (aunque sea basura), no se le resta, aunque un usuario posterior se lo borre). Esto fue lo que hablamos en su día.

* Análisis anónimo: en el análisis anónimo no se genera ninguna gráfica ni html para usuarios (los directorios graphs/users/ y html/users/ quedan vacios). Los nicks de la tabla global está anonimizados y no enlazan a nada (se le pasa md5 y un poco de ruido). Y en los análisis para las páginas del wiki (por ejemplo [3]) la sección de los usuarios que más han aportado a esa página queda vacío (si se mostrara, bastaría con ir al historial de esa página y contar para saber: si el usuario hizo 4 ediciones en esta página y solo un usuario tiene 4 ediciones en ese historial, entonces ab3b51bbab5bb42 es menganito).

Para finalizar, un ejemplo de llamada a StatMediaWiki:
   python /home/usuario/statmediawiki.py --outputdir="/home/usuario/analysis/mywiki" --sitename=MyWiki --siteurl=http://mywiki.org --dbname=wikidb

Más información:
* Página oficial: http://statmediawiki.forja.rediris.es
* Forja con el código fuente: https://forja.rediris.es/projects/statmediawiki
* Demo: http://osl.uca.es/statmediawiki/
